<?php

/*
 *		Pusher PHP Library
 *			/////////////////////////////////
 *				PHP library for the Pusher API.
 *
 *					See the README for usage information: https://github.com/pusher/pusher-php-server
 *
 *						Copyright 2011, Squeeks. Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 *
 *							Contributors:
 *									+ Paul44 (http://github.com/Paul44)
 *											+ Ben Pickles (http://github.com/benpickles)
 *													+ Mastercoding (http://www.mastercoding.nl)
 *															+ Alias14 (mali0037@gmail.com)
 *																	+ Max Williams (max@pusher.com)
 *																			+ Zack Kitzmiller (delicious@zackisamazing.com)
 *																					+ Andrew Bender (igothelp@gmail.com)
 *																							+ Phil Leggetter (phil@leggetter.co.uk)
 *																							*/

class PusherException extends Exception
{
}

class PusherInstance {

	private static $instance = null;
	private static $app_id	= '';
	private static $secret	= '';
	private static $api_key = '';

	private function __construct() { }
	private function __clone() { }

	public static function get_pusher()
	{
			if (self::$instance !== null) return self::$instance;
	
			self::$instance = new Pusher(
						self::$api_key,
								self::$secret,
										self::$app_id
											);
			
					return self::$instance;
				}
}

class Pusher
{
	public static $VERSION = '2.2.2';

	private $settings = array(
			'scheme' => 'http',
				'host' => 'api.pusherapp.com',
					'port' => 80,
						'timeout' => 30,
							'debug' => false
							);
		private $logger = null;
	
		/**
			*	 * PHP5 Constructor.
			*		 *
			*			 * Initializes a new Pusher instance with key, secret , app ID and channel.
			*				 * You can optionally turn on debugging for all requests by setting debug to true.
			*					 *
			*						 * @param string $auth_key
			*							 * @param string $secret
			*								 * @param int $app_id
			*									 * @param bool $options [optional]
			*										 *		Options to configure the Pusher instance.
			*											 *	Was previously a debug flag. Legacy support for this exists if a boolean is passed.
			*												 *	scheme - e.g. http or https
			*													 *	host - the host e.g. api.pusherapp.com. No trailing forward slash.
			*														 *	port - the http port
			*															 *	timeout - the http timeout
			*																 *	encrypted - quick option to use scheme of https and port 443.
			*																	 * @param string $host [optional] - deprecated
			*																		 * @param int $port [optional] - deprecated
			*																			 * @param int $timeout [optional] - deprecated
			*																				 */
		public function __construct( $auth_key, $secret, $app_id, $options = array(), $host = null, $port = null, $timeout = null )
			{
					$this->check_compatibility();
			
					/** Start backward compatibility with old constructor **/
					if( is_bool( $options ) === true ) {
								$options = array(
												'debug' => $options
														);
							}
			
					if( !is_null( $host ) ) {
								$match = null;
								preg_match("/(http[s]?)\:\/\/(.*)/", $host, $match);
					
								if( count( $match ) === 3 ) {
													$this->settings[ 'scheme' ] = $match[ 1 ];
																	$host = $match[ 2 ];
																}
					
								$this->settings[ 'host' ] = $host;
					
								$this->log( 'Legacy $host parameter provided: ' .
																	$this->settings[ 'scheme' ] + ' host: ' + $this->settings[ 'host' ] );
							}
			
					if( !is_null( $port ) ) {
								$options[ 'port' ] = $port;
							}
			
					if( !is_null( $timeout ) ) {
								$options[ 'timeout' ] = $timeout;
							}
			
					/** End backward compatibility with old constructor **/
			
					if( isset( $options[ 'encrypted' ] ) &&
									$options[ 'encrypted' ] === true &&
												!isset( $options[ 'scheme' ] ) &&
															!isset( $options[ 'port' ] ) ) {
															
																		$options[ 'scheme' ] = 'https';
																		$options[ 'port' ] = 443;
																	}
			
					$this->settings['auth_key']		= $auth_key;
					$this->settings['secret']		= $secret;
					$this->settings['app_id']		= $app_id;
					$this->settings['base_path']	= '/apps/' . $this->settings['app_id'];
			
					foreach( $options as $key => $value ) {
								// only set if valid setting/option
						//			if( isset( $this->settings[ $key ] ) ) {
						//							$this->settings[ $key ] = $value;
						//										}
						//												}
						//
						//														// ensure host doesn't have a scheme prefix
						//																$this->settings[ 'host' ] =
						//																			preg_replace( '/http[s]?\:\/\//', '', $this->settings[ 'host' ], 1 );
						//																				}
						//
						//																					/**
						//																						 * Fetch the settings.
						//																							 * @return array
						//																								 */
						//																									public function getSettings() {
						//																											return $this->settings;
						//																												}
						//
						//																													/**
						//																														 * Set a logger to be informed of internal log messages.
						//																															 */
						//																																public function set_logger( $logger ) {
						//																																		$this->logger = $logger;
						//																																			}
						//
						//																																				/**
						//																																					 *
						//																																						 */
						//																																							private function log( $msg ) {
						//																																									if( is_null( $this->logger ) == false ) {
						//																																												$this->logger->log( 'Pusher: ' . $msg );
						//																																														}
						//																																															}
						//
						//																																																/**
						//																																																	* Check if the current PHP setup is sufficient to run this class
						//																																																		*/
						//																																																			private function check_compatibility()
						//																																																				{
						//																																																						if ( ! extension_loaded( 'curl' ) || ! extension_loaded( 'json' ) )
						//																																																								{
						//																																																											throw new PusherException('There is missing dependant extensions - please ensure both cURL and JSON modules are installed');
						//																																																													}
						//
						//																																																															if ( ! in_array( 'sha256', hash_algos() ) )
						//																																																																	{
						//																																																																				throw new PusherException('SHA256 appears to be unsupported - make sure you have support for it, or upgrade your version of PHP.');
						//																																																																						}
						//
						//																																																																							}
						//
						//																																																																								/**
						//																																																																									 * validate number of channels and channel name format.
						//																																																																										 */
						//																																																																											private function validate_channels($channels) {
						//																																																																													if( count( $channels ) > 100 ) {
						//																																																																																throw new PusherException('An event can be triggered on a maximum of 100 channels in a single call.');
						//																																																																																		}
						//
						//																																																																																				foreach ($channels as $channel) {
						//																																																																																							$this->validate_channel($channel);
						//																																																																																									}
						//																																																																																										}
						//
						//																																																																																											/**
						//																																																																																												 * Ensure a channel name is valid based on our spec
						//																																																																																													 */
						//																																																																																														private function validate_channel( $channel )
						//																																																																																															{
						//																																																																																																	if ( ! preg_match( '/\A[-a-zA-Z0-9_=@,.;]+\z/', $channel ) ) {
						//																																																																																																				throw new PusherException( 'Invalid channel name ' . $channel );
						//																																																																																																						}
						//																																																																																																							}
						//
						//																																																																																																								/**
						//																																																																																																									 * Ensure a socket_id is valid based on our spec
						//																																																																																																										 */
						//																																																																																																											private function validate_socket_id( $socket_id )
						//																																																																																																												{
						//																																																																																																														if ( $socket_id !== null && !preg_match( '/\A\d+\.\d+\z/', $socket_id ) ) {
						//																																																																																																																	throw new PusherException( 'Invalid socket ID ' . $socket_id );
						//																																																																																																																			}
						//																																																																																																																				}
						//
						//																																																																																																																					/**
						//																																																																																																																						 * Utility function used to create the curl object with common settings
						//																																																																																																																							 */
						//																																																																																																																								private function create_curl($s_url, $request_method = 'GET', $query_params = array() )
						//																																																																																																																									{
						//																																																																																																																											# Create the signed signature...
						//																																																																																																																													$signed_query = Pusher::build_auth_query_string(
						//																																																																																																																																$this->settings['auth_key'],
						//																																																																																																																																			$this->settings['secret'],
						//																																																																																																																																						$request_method,
						//																																																																																																																																									$s_url,
						//																																																																																																																																												$query_params);
						//
						//																																																																																																																																														$full_url = $this->settings['scheme'] . '://' .
						//																																																																																																																																																						$this->settings['host'] . ':' .
						//																																																																																																																																																														$this->settings['port'] . $s_url . '?' . $signed_query;
						//
						//																																																																																																																																																																$this->log(  PusherException( 'Invalid channel name ' . $channel );
						//																																																																																																																																																																		}
						//																																																																																																																																																																			}
						//
						//																																																																																																																																																																				/**
						//																																																																																																																																																																					 * Ensure a socket_id is valid based on our spec
						//																																																																																																																																																																						 */
						//																																																																																																																																																																							private function valida $ch === false )
						//																																																																																																																																																																									{
						//																																																																																																																																																																												throw new PusherException('Could not initialise cURL!');
						//																																																																																																																																																																														}
						//
						//																																																																																																																																																																																# Set cURd( $socket_id )
						//																																																																																																																																																																																	{
						//																																																																																																																																																																																			if ( $socket_id !== null && !preg_match( ull_url );
						//																																																																																																																																																																																					curl_setopt( $ch, CURLOPT_HTTPHEADER, array ( "Content-Type: application/json", "Expect:" ) );
						//																																																																																																																																																																																							curl_setopt( $ch, CURLOPT_RETURNTRANSFER, 1 );
						//																																																																																																																																																																																									curl_setopt( $ch, CURLOPT_TIMEOUT, $this->settings['timeout'] );
						//
						//																																																																																																																																																																																											return $ch;
						//																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																													/**
						//																																																																																																																																																																																														 * Utility function to execute curl and create capture response information.
						//																																																																																																																																																																																															 */
						//																																																																																																																																																																																																private function exec_curl( $ch ) {
						//																																																																																																																																																																																																		$response = array();
						//
						//																																																																																																																																																																																																				$response[ 'body' ] = curl_exec( $ch );
						//																																																																																																																																																																																																						$response[ 'status' ] = curl_getinfo($ch, CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																								$this->log( 'exec_curl response: ' . print_r( $response, true ) );
						//
						//																																																																																																																																																																																																										if( $response[ 'body' ] === false ) {
						//																																																																																																																																																																																																													$this->log( 'exec_curl error: ' . curl_error( $ch ) );
						//																																																																																																																																																																																																															}
						//
						//																																																																																																																																																																																																																	return $response;
						//																																																																																																																																																																																																																		}
						//
						//																																																																																																																																																																																																																			/**
						//																																																																																																																																																																																																																				 * Build the required HMAC'd auth string
						//																																																																																																																																																																																																																					 *
						//																																																																																																																																																																																																																						 * @param string $auth_key
						//																																																																																																																																																																																																																							 * @param string $auth_secret
						//																																																																																																																																																																																																																								 * @param string $request_method
						//																																																																																																																																																																																																																									 * @param string $request_path
						//																																																																																																																																																																																																																										 * @param array $query_params
						//																																																																																																																																																																																																																											 * @param string $auth_version [optional]
						//																																																																																																																																																																																																																												 * @param string $auth_timestamp [optional]
						//																																																																																																																																																																																																																													 * @return string
						//																																																																																																																																																																																																																														 */
						//																																																																																																																																																																																																																															public stT_RETURNTRANSFER, 1 );
						//																																																																																																																																																																																																																																	curl_setopt( $ch, CURLOPT_TIMEOUT, $this->settings['timeout'] );
						//
						//																																																																																																																																																																																																																																			return $ch;
						//																																																																																																																																																																																																																																				}
						//
						//																																																																																																																																																																																																																																					/**
						//																																																																																																																																																																																																																																						 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																							}
						//
						//																																																																																																																																																																																																																																								/**
						//																																																																																																																																																																																																																																									 * Utility function to execute curl and create capture response information.
						//																																																																																																																																																																																																																																										 */
						//																																																																																																																																																																																																																																											$pure response information.
						//																																																																																																																																																																																																																																												 */
						//																																																																																																																																																																																																																																													private function exec_curl( $ch thnse[ 'body' ] = curl_exec( $ch );
						//																																																																																																																																																																																																																																															$response[ 'status' ] = curl_getinfo($ch, CURLINFO_HTTP_CODE);aretinfo($ch, CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																	$this->log( 'exec_curl respo . $request_path . "\n" . Pusher::array_implode( '=', '&', $params );
						//
						//																																																																																																																																																																																																																																																			$auth_signature = hash_hmac( url error: ' . curl_error( $ch ) );
						//																																																																																																																																																																																																																																																					}
						//
						//																																																																																																																																																																																																																																																							return $response;
						//																																																																																																																																																																																																																																																								}
						//																																																																																																																																																																																																																																																								thauth string
						//																																																																																																																																																																																																																																																									 *
						//																																																																																																																																																																																																																																																										 * @param string $auth_key
						//																																																																																																																																																																																																																																																											 * @param string $auth_secret
						//																																																																																																																																																																																																																																																												 * @param string $requ='h_secret
						//																																																																																																																																																																																																																																																													 * @param string $request_method
						//																																																																																																																																																																																																																																																														 * @param string $reloarams
						//																																																																																																																																																																																																																																																															 * @param string $auth_version [optional]
						//																																																																																																																																																																																																																																																																 * @param string $auth_timestamp [optional]
						//																																																																																																																																																																																																																																																																	 * 
						//																																																																																																																																																																																																																																																																		 * to implode.
						//																																																																																																																																																																																																																																																																			 * @param string $glue The glue between key and va$ch, CURLOPT_TIMEOUT, $this->settings['timeout'] );
						//
						//																																																																																																																																																																																																																																																																					return $ch;
						//																																																																																																																																																																																																																																																																						}
						//
						//																																																																																																																																																																																																																																																																							/**
						//																																																																																																																																																																																																																																																																								 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																									}
						//
						//																																																																																																																																																																																																																																																																										/**
						//																																																																																																																																																																																																																																																																											 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																																																																																																													/**
						//																																																																																																																																																																																																																																																																														 * Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																															 */
						//																																																																																																																																																																																																																																																																																$pure response information.
						//																																																																																																																																																																																																																																																																																	 */
						//																																																																																																																																																																																																																																																																																		private function exec_curl( $ch thnse[st($ch, CURLINFO_HTTP_CODE);aretinfo($ch, CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																				$this->log( 'exec_curl respo . $request_path . "\n" . Pusher::array_implode( '=', '&', $params );
						//
						//																																																																																																																																																																																																																																																																																						}his->log( 'exec_curl respo . $request_path . "\n" . Pusher::arraan_timestamp [optional]
						//																																																																																																																																																																																																																																																																																							 * 
						//																																																																																																																																																																																																																																																																																								 * to implode.
						//																																																																																																																																																																																																																																																																																									 * @param string $glue The glue between key and va$ch, CURLOPT_TIMEOUT, $this->settings['timeout'] );
						//
						//																																																																																																																																																																																																																																																																																											return $ch;
						//																																																																																																																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																																																																																																																													/**
						//																																																																																																																																																																																																																																																																																														 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																															}
						//
						//																																																																																																																																																																																																																																																																																																/**
						//																																																																																																																																																																																																																																																																																																	 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																		}
						//
						//																																																																																																																																																																																																																																																																																																			/**
						//																																																																																																																																																																																																																																																																																																				 * Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																																																					 */
						//																																																																																																																																																																																																																																																																																																						$pure response information.
						//																																																																																																																																																																																																																																																																																																							 */
						//																																																																																																																																																																																																																																																																																																								private function exec_curl( $ch thnse[st($ch, CURLINFO_HTTP_CODE);aretinfo($ch, CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																										$this- n/**
						//																																																																																																																																																																																																																																																																																																											 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																																																																																																																																													/**
						//																																																																																																																																																																																																																																																																																																														 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																															}
						//
						//																																																																																																																																																																																																																																																																																																																/**
						//																																																																																																																																																																																																																																																																																																																	 * Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																																																																		 */
						//																																																																																																																																																																																																																																																																																																																			$pure response information.
						//																																																																																																																																																																																																																																																																																																																				 */
						//																																																																																																																																																																																																																																																																																																																					private fuCo/**
						//																																																																																																																																																																																																																																																																																																																						 * Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																																																																							 */
						//																																																																																																																																																																																																																																																																																																																								$pure resp	$tion exec_curl( $ch thnse[st($ch, CURLINFO_HTTP_CODE);aretinfo($ch, CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																										$this-= , CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																												$this->log( 'exec_curl respo . $reques		e( '=', '&', $params );
						//
						//																																																																																																																																																																																																																																																																																																																														}his->log( 'exec_curl respo . $request_path . "\n" . Pusher::arraan_timt_ut'] );
						//
						//																																																																																																																																																																																																																																																																																																																																return $ch;
						//																																																																																																																																																																																																																																																																																																																																	}
						//
						//																																																																																																																																																																																																																																																																																																																																		/**
						//																																																																																																																																																																																																																																																																																																																																			 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																				}
						//
						//																																																																																																																																																																																																																																																																																																																																					/**
						//																																																																																																																																																																																																																																																																																																																																						 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																							}
						//
						//																																																																																																																																																																																																																																																																																																																																								/**
						//																																																																																																																																																																																																																																																																																																																																									 * Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																																																																																										 */
						//																																																																																																																																																																																																																																																																																																																																											$pure response information.
						//																																																																																																																																																																																																																																																																																																																																												 */
						//																																																																																																																																																																																																																																																																																																																																													private function exec_curl( $ch thnse[st($ch, CUpa* Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																																																																																														 */
						//																																																																																																																																																																																																																																																																																																																																															$pure response information.
						//																																																																																																																																																																																																																																																																																																																																																 */
						//																																																																																																																																																																																																																																																																																																																																																	private functionOSINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																			$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																				 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																					}
						//
						//																																																																																																																																																																																																																																																																																																																																																						/**
						//																																																																																																																																																																																																																																																																																																																																																							 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																								}
						//
						//																																																																																																																																																																																																																																																																																																																																																									/**
						//																																																																																																																																																																																																																																																																																																																																																										 * Utility function ttisponse information.
						//																																																																																																																																																																																																																																																																																																																																																											 */
						//																																																																																																																																																																																																																																																																																																																																																												$pure response i
						//
						//																																																																																																																																																																																																																																																																																																																																																													 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																														}
						//
						//																																																																																																																																																																																																																																																																																																																																																															/**
						//																																																																																																																																																																																																																																																																																																																																																																 * Utility function ttisponse is'INFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																																		$this-= , CURLINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																																				$this->log( 'exec_curl respo . $reques		e( '=', '&', $params );
						//
						//																																																																																																																																																																																																																																																																																																																																																																						}his->log( 'exec_curl respo . $request_path . "\n" . Pusher::arraan_timt_ut'] );
						//
						//																																																																																																																																																																																																																																																																																																																																																																								return $ch;
						//																																																																																																																																																																																																																																																																																																																																																																									}
						//
						//																																																																																																																																																																																																																																																																																																																																																																										/**
						//																																																																																																																																																																																																																																																																																																																																																																											 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																																																																																																																																																																																																													/**
						//																																																																																																																																																																																																																																																																																																																																																																														 * g  "\n" . Pusher::arraan_timt_ut'] );
						//
						//																																																																																																																																																																																																																																																																																																																																																																																return $ch;
						//																																																																																																																																																																																																																																																																																																																																																																																	}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																		/**
						//																																																																																																																																																																																																																																																																																																																																																																																			 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																				}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																					/**
						//																																																																																																																																																																																																																																																																																																																																																																																						 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																							}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																								/**
						//																																																																																																																																																																																																																																																																																																																																																																																									 * Utility function ttisponse informat
						//																																																																																																																																																																																																																																																																																																																																																																																									 ility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																										}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																											/**
						//																																																																																																																																																																																																																																																																																																																																																																																												 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																													}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																														/**
						//																																																																																																																																																																																																																																																																																																																																																																																															 * ()on.
						//																																																																																																																																																																																																																																																																																																																																																																																																 */
						//																																																																																																																																																																																																																																																																																																																																																																																																	$pure response information.
						//																																																																																																																																																																																																																																																																																																																																																																																																		 */
						//																																																																																																																																																																																																																																																																																																																																																																																																			private function exec_curl( $ch thnse[st($ch, CUpa* Utracurl( $ch thnse[st($ch, CUpa* Utility function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																				 */
						//																																																																																																																																																																																																																																																																																																																																																																																																					private functionOSINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																							$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																																																																								 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																									}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																										/**
						//																																																																																																																																																																																																																																																																																																																																																																																																											 *	/ility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																													/**
						//																																																																																																																																																																																																																																																																																																																																																																																																														 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																															}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																	 *  $on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																		 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																			$pure response i
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																				 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																					}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																						/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																							 * Utility function ttisponse is'INFO*
						//																																																																																																																																																																																																																																																																																																																																																																																																																							 curl respo . $reques		e( '=', '&', $params );
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																									}his->log( 'exec_curl respo . $request_path . "\n" . Pusher::arraan_timt_ut'] );
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																											return $ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																												}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																													/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																														 * Utilit{
						//																																																																																																																																																																																																																																																																																																																																																																																																																														 funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																															}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																	 * g  "\n" . Pusher::arraan_timt_ut'] );
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																			return $ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																				}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																					/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																						 * Utility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																							}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																								/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																									 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																										}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																											/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																												 * Utilitrnfunction ttisponse informat
						//																																																																																																																																																																																																																																																																																																																																																																																																																																												 ility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																													}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																														/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																															 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																	/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																		 * ()on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																			 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																				$pure response information.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																					 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																						private function exec_curlth$ch thnse[st($ch, CUpa* Utracurl( $ch thnse[st($ch, CUpa* Utility function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																							 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																								private functionOSINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																										$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																											 * Utilit $function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																												 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																													private functionOSINFO_HTTh'funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																														}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																															/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																 *	/ility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																		/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																			 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																				}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																					/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																						 *  $on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																						  $y funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																								/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																									 *  $on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																										 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																											$pure response i
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																												 * Utilsufunction ttisponse is'INFO*
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																												 curl respo . $reques		e( '=', '&', $params );
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}his->log( 'exec_curlrnrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	 * Utilitrnfunction ttisponse informat
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	 ility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							 * ()on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									$pure response information.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											private function exec_curlth$ch thnse[st($ch, CUpa* Utracurl( $ch thnse[st($ch, CUpa* Utility function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													private functionOSINFO_HTTP_CODE		thnse[st($ch, CUpa* Utility function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															private functionOSINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		 * Utilit $function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				private functionOSINFO_HTTh'funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							 *	/ility fuls
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										 * Utilit $function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												private functionOSINFO_HTTh'funcadprivate functionOSINFO_HTTh'funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															 *	/ility fu	$rs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		 *  $on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		  $y funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					 *  $on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							$pure response i
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								 * Utilsufuncea;
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}his->log( 'exec_curlrnrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													 * Utilitrnfunction ttisponse informat
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													 ility funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																 * Utility funcrs$ch;
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			 * ()on.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					$pur*/e functionOSINFO_HTTP_CODE		thnse[st($ch, CUpa* Utility function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							private functionOSINFO_HTTP_CODE);
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										 * Utilit $function ttisponse informaonon.
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											 */
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												private functionOSINFO_HTTh'funcrs$ch;od
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															 *	/ility fuls
						//
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	$this- n/**
						//																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		 * Utilit $functi)]))])])}}}}}}}}}}}})}}>
